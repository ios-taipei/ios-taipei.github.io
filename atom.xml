<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>iOS @ Taipei</title>
  
  <subtitle>iOS and her good friends</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://ios.taipei/"/>
  <updated>2018-06-21T15:34:31.558Z</updated>
  <id>http://ios.taipei/</id>
  
  <author>
    <name>AKI YU</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Carthage-introduction</title>
    <link href="http://ios.taipei/2018/06/21/Carthage-introduction/"/>
    <id>http://ios.taipei/2018/06/21/Carthage-introduction/</id>
    <published>2018-06-21T15:32:12.000Z</published>
    <updated>2018-06-21T15:34:31.558Z</updated>
    
    <content type="html"><![CDATA[<p>相信大家對於CocoaPods非常的熟悉，用的愛不釋手，那麼為什麼還要看一下Carthage呢？</p><a id="more"></a><p>在還沒有CocoaPods之類，大家都是用拖檔案，拖library進來，甚至是拖另一個專案到專案裡面來，記得還要<br>copy items if needed，有CocoaPods，只要幾行指令，就完成了所有的工作了，就連考試都得了一百分呢！！</p><p>Carthage與CocoaPods的不同在那裡呢？</p><p>首先，CocoaPods預設會自動產生具有dependency的workspace並且更新你的專案檔，Carthage則是使用xcodebuild來打包成framework，以方便引用，避免污染專案檔</p><p>再來，CocoaPods在每次編譯時，都會重新打包所有的pods，當使用第三方元件使用的多時，編譯就會變慢，有機會會差到幾十秒</p><p>最後，Carthage比CocoaPods好封裝多了，只要開一個Project/Framework,裡面的scheme設為shared就可以了</p><p>附帶一提的是 Carthage 的打包，可以不讓別人看到source code，這不知道要算優點還是缺點</p><p>1。安裝Carthage</p><p>Carthage提供OS X平台的pkg安裝文件，可以從Github的最新release中找到，按照指示一步步安裝即可。</p><p>2。新增framework到程式裡</p><p>安裝完Carthage後，你能够使用它来新增framework到你的專案裡。注意Carthage只支持dynamic framework(iOS8以上)。</p><p>3。執行</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">carthage update</span><br></pre></td></tr></table></figure><p>和CocoaPods一樣，會將相依的資料抓到 Carthage/Checkouts 目錄下，並且編譯好</p><p>4。設定<br>在你的專案的target的[General][Embedded Binaries]，將framework從Carthage.build裡拉進去。<br>（如果有git，也順便push上去，醬子其他人只要執行carthage bootstrap就能使用了。</p><p>5。update<br>如果變動了Cartfile，或者想升级到最新版本，執行carthage update命令就可以了。</p><p>6。檢查<br>如果編譯失敗的話，試著在命令列執行</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">xcodebuild -scheme <span class="type">SCHEME</span> -workspace <span class="type">WORKSPACE</span> build</span><br></pre></td></tr></table></figure><p>或</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">xcodebuild -scheme <span class="type">SCHEME</span> -project <span class="type">PROJECT</span> build</span><br></pre></td></tr></table></figure><p>其中大寫的地方要換成你的workspace或專案名稱, 有沒有很簡單？</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;相信大家對於CocoaPods非常的熟悉，用的愛不釋手，那麼為什麼還要看一下Carthage呢？&lt;/p&gt;
    
    </summary>
    
      <category term="iOS" scheme="http://ios.taipei/categories/iOS/"/>
    
    
      <category term="iOS" scheme="http://ios.taipei/tags/iOS/"/>
    
      <category term="Dependency Management" scheme="http://ios.taipei/tags/Dependency-Management/"/>
    
  </entry>
  
  <entry>
    <title>GCD</title>
    <link href="http://ios.taipei/2018/06/21/GCD/"/>
    <id>http://ios.taipei/2018/06/21/GCD/</id>
    <published>2018-06-21T15:08:55.000Z</published>
    <updated>2018-06-21T15:12:08.991Z</updated>
    
    <content type="html"><![CDATA[<h2 id="GCD-有許多用法，不知道你會那幾種？"><a href="#GCD-有許多用法，不知道你會那幾種？" class="headerlink" title="GCD 有許多用法，不知道你會那幾種？"></a>GCD 有許多用法，不知道你會那幾種？</h2><a id="more"></a><p><strong>1. 背景執行</strong></p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> defaultPriority = <span class="type">DISPATCH_QUEUE_PRIORITY_DEFAULT</span></span><br><span class="line"><span class="keyword">let</span> backgroundQueue = dispatch_get_global_queue(defaultPriority, <span class="number">0</span>)</span><br><span class="line">dispatch_async(backgroundQueue, &#123;</span><br><span class="line">     <span class="keyword">let</span> result = doSomeExpensiveWork()</span><br><span class="line">     dispatch_async(dispatch_get_main_queue(), &#123;</span><br><span class="line">          <span class="comment">//use `result` somehow </span></span><br><span class="line">     &#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p><strong>2. Singleton</strong></p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">+ (instancetype) sharedInstance &#123;</span><br><span class="line">     <span class="keyword">static</span> dispatch_once_t onceToken;</span><br><span class="line">     <span class="keyword">static</span> id sharedInstance;</span><br><span class="line">     dispatch_once(&amp;amp;amp;onceToken, ^&#123;</span><br><span class="line">          sharedInstance = [[<span class="keyword">self</span> alloc] <span class="keyword">init</span>];</span><br><span class="line">     &#125;);</span><br><span class="line">     <span class="keyword">return</span> sharedInstance;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>3. with blocks</strong></p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typealias</span> <span class="type">DoneBlock</span> = () -&amp;gt; ()</span><br><span class="line"><span class="keyword">typealias</span> <span class="type">WorkBlock</span> = (<span class="type">DoneBlock</span>) -&amp;gt; ()</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">AsyncSerialWorker</span> </span>&#123;</span><br><span class="line">     <span class="keyword">private</span> <span class="keyword">let</span> serialQueue = dispatch_queue_create(<span class="string">"ios.taipei.queue"</span>, <span class="type">DISPATCH_QUEUE_SERIAL</span>)</span><br><span class="line"></span><br><span class="line">     <span class="function"><span class="keyword">func</span> <span class="title">enqueueWork</span><span class="params">(work: WorkBlock)</span></span> &#123;</span><br><span class="line">          dispatch_async(serialQueue) &#123;</span><br><span class="line">               <span class="keyword">let</span> semaphore = dispatch_semaphore_create(<span class="number">0</span>)</span><br><span class="line">               work(&#123;</span><br><span class="line">                    dispatch_semaphore_signal(semaphore)</span><br><span class="line">               &#125;)</span><br><span class="line">               dispatch_semaphore_wait(semaphore, <span class="type">DISPATCH_TIME_FOREVER</span>)</span><br><span class="line">          &#125;</span><br><span class="line">     &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>4. multi-task</strong></p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">dispatch_group_t group = dispatch_group_create()</span><br><span class="line">     <span class="keyword">for</span> item <span class="keyword">in</span> someArray &#123;</span><br><span class="line">          dispatch_group_async(group, backgroundQueue, &#123;</span><br><span class="line">               performExpensiveWork(item: item)</span><br><span class="line">          &#125;)</span><br><span class="line">     &#125;</span><br><span class="line">     dispatch_group_notify(group, dispatch_get_main_queue(), &#123;</span><br><span class="line">     <span class="comment">// all the work is complete</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;GCD-有許多用法，不知道你會那幾種？&quot;&gt;&lt;a href=&quot;#GCD-有許多用法，不知道你會那幾種？&quot; class=&quot;headerlink&quot; title=&quot;GCD 有許多用法，不知道你會那幾種？&quot;&gt;&lt;/a&gt;GCD 有許多用法，不知道你會那幾種？&lt;/h2&gt;
    
    </summary>
    
      <category term="iOS" scheme="http://ios.taipei/categories/iOS/"/>
    
    
      <category term="iOS" scheme="http://ios.taipei/tags/iOS/"/>
    
      <category term="GCD" scheme="http://ios.taipei/tags/GCD/"/>
    
  </entry>
  
  <entry>
    <title>SpotLight 初探</title>
    <link href="http://ios.taipei/2018/06/21/Spotlight-inspect/"/>
    <id>http://ios.taipei/2018/06/21/Spotlight-inspect/</id>
    <published>2018-06-21T15:00:28.000Z</published>
    <updated>2018-06-21T15:51:24.014Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://github.com/nobodyyu/GraphicsBed/raw/master/ios%40Taipei/spotlight01.png"></p><p>當使用者使用spotlight查詢時，總是有些app會列出內容出來，那又是怎麼樣的小技巧呢？</p><a id="more"></a><p>先把兩個必要的framework包進來</p><p><pre class="prettyprint">import CoreSpotlight<br>import MobileCoreServices<br></pre><br>接著，準備一個獨立的ID，避免與別的app衝突，通常會使用域名反解，與一個資料陣列,型別為 CSSearchableItem</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> domainID: <span class="type">String</span> = <span class="string">"com.yuaki.informationPlus"</span></span><br><span class="line"><span class="keyword">var</span> searchableItems: [<span class="type">CSSearchableItem</span>] = []</span><br></pre></td></tr></table></figure><p>接著，</p><p>定義每筆資料的屬性設定 (item為資料物件)</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> attributeSet = </span><br><span class="line"><span class="type">CSSearchableItemAttributeSet</span>(itemContentType: kUTTypeItem <span class="keyword">as</span> <span class="type">String</span>)</span><br><span class="line">attributeSet.title = item.title</span><br><span class="line">attributeSet.contentDescription = item.subtitle</span><br><span class="line">attributeSet.contentCreationDate = item.date</span><br></pre></td></tr></table></figure><p>接著為這個屬性設定關鍵字,以方便被搜尋</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// define search keywords</span></span><br><span class="line"><span class="keyword">var</span> keywords = item.title.componentsSeparatedByString(<span class="string">" "</span>)</span><br><span class="line">keywords.appendContentsOf(item.subtitle.componentsSeparatedByString(<span class="string">" "</span>))</span><br><span class="line">attributeSet.keywords = keywords</span><br></pre></td></tr></table></figure><p>然後把屬性放到 CSSearchableItem裡 再加到陣列中備用</p><p><pre class="prettyprint">let searchItem = CSSearchableItem(uniqueIdentifier: “Parking”, domainIdentifier: domainID, attributeSet: attributeSet)<br>searchableItems.append(searchItem)</pre><br>最後加到index裡</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">CSSearchableIndex</span>.defaultSearchableIndex().indexSearchableItems(searchableItems) &#123; (error) -&amp;gt; <span class="type">Void</span> <span class="keyword">in</span></span><br><span class="line">     <span class="keyword">if</span> error != <span class="literal">nil</span> &#123;</span><br><span class="line">         <span class="built_in">print</span>(error?.localizedDescription)</span><br><span class="line">     &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">         <span class="built_in">print</span>(<span class="string">"items indexed witch success!"</span>)</span><br><span class="line">     &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>醬子就好了！！！</p><p>其中uniqueIdentifier可以在 continueUserActivity 的userInfo 被撈取</p><p>有沒有很方便呀</p><p>附記：index看起來沒有容量的限制，意思是…… 我可以塞爆他嗎？</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;https://github.com/nobodyyu/GraphicsBed/raw/master/ios%40Taipei/spotlight01.png&quot;&gt;&lt;/p&gt;
&lt;p&gt;當使用者使用spotlight查詢時，總是有些app會列出內容出來，那又是怎麼樣的小技巧呢？&lt;/p&gt;
    
    </summary>
    
      <category term="iOS" scheme="http://ios.taipei/categories/iOS/"/>
    
    
      <category term="iOS" scheme="http://ios.taipei/tags/iOS/"/>
    
      <category term="spotlight" scheme="http://ios.taipei/tags/spotlight/"/>
    
  </entry>
  
  <entry>
    <title>XCode 搜尋小技巧</title>
    <link href="http://ios.taipei/2018/06/21/xcode-search/"/>
    <id>http://ios.taipei/2018/06/21/xcode-search/</id>
    <published>2018-06-21T15:00:28.000Z</published>
    <updated>2018-06-21T15:22:15.410Z</updated>
    
    <content type="html"><![CDATA[<p>茫茫碼海中，要怎麼找到你想要找的那一段程式碼？關鍵字下的不夠精準，找不到或是搜尋的資料太多，都是種苦惱。還是想找個Hex? 找Tab? 找ip？ 找url？ 找email?</p><p>好的搜尋技巧帶你上天堂，下面幾個技巧該可以能帶你上天堂</p><a id="more"></a><p><ol><br>     <li><strong>定義搜尋（只搜尋「定義」的字串）</strong></li><br></ol><br>搜尋關鍵字會把所有找到的資料帶出來（以simple為例）<br><img src="https://github.com/nobodyyu/GraphicsBed/raw/master/ios%40Taipei/xcode-search-definition01.png" width="264" height="260"></p><p>在find的第二層，將搜尋改為definition<br><img class="aligncenter wp-image-5 size-full" src="https://github.com/nobodyyu/GraphicsBed/raw/master/ios%40Taipei/xcode-search-definition02.png" alt="定義02" width="281" height="246"></p><p>結果就只會出現「定義」裡的關鍵字搜尋了<br><img class="aligncenter wp-image-5 size-full" src="https://github.com/nobodyyu/GraphicsBed/raw/master/ios%40Taipei/xcode-search-definition03.png" alt="定義03" width="263" height="260"></p><p>&nbsp;</p><p><strong>2. Pattern </strong></p><p>在搜尋裡先打一個「”」,用以區隔 pattern之用，接著，在放大鏡裡點選 insert pattern<br><img class="aligncenter wp-image-5 size-full" src="https://github.com/nobodyyu/GraphicsBed/raw/master/ios%40Taipei/xcode-insert-pattern.png" alt="pattern01" width="263" height="132"></p><p>接著，點選「url」,再補個「”」給他<br><img class="aligncenter wp-image-5 size-full" src="https://github.com/nobodyyu/GraphicsBed/raw/master/ios%40Taipei/xcode-insert-pattern-url.png" alt="pattern02" width="277" height="310"></p><p>結果，就是我們想要的結果<br><img class="aligncenter wp-image-5 size-full" src="https://github.com/nobodyyu/GraphicsBed/raw/master/ios%40Taipei/xcode-insert-pattern-result.png" alt="pattern03" width="261" height="150"></p><p><strong>3. 指定路徑</strong></p><p>如果是已知路徑下搜尋，只要在 下方的「in Workspace」點一下</p><p><img class="aligncenter wp-image-5 size-full" src="https://github.com/nobodyyu/GraphicsBed/raw/master/ios%40Taipei/xcode-path01.png" alt="path01" width="267" height="130"></p><p>再點選你要搜尋的路徑就可以了</p><p><img class="aligncenter wp-image-5 size-full" src="https://github.com/nobodyyu/GraphicsBed/raw/master/ios%40Taipei/xcode-path02.png" alt="path02" width="266" height="233"></p><p>有興趣的人還有scope的進階版可以玩<br><img class="aligncenter wp-image-5 size-full" src="https://github.com/nobodyyu/GraphicsBed/raw/master/ios%40Taipei/xcode-path03.png" alt="path03" width="805" height="175"></p><ol start="4"><li>Call Hierarchy</li></ol><p>想知道有誰呼叫了某個函數？<br><img class="aligncenter wp-image-5 size-full" src="https://github.com/nobodyyu/GraphicsBed/raw/master/ios%40Taipei/xcode-call-Hierarchy.png" alt="call-hierarchy" width="260" height="189"></p><p>還有一個方法，就是當你移到函數的位置時<br><img src="https://github.com/nobodyyu/GraphicsBed/raw/master/ios%40Taipei/xcode-call-Hierarchy02.png" alt="call-hierarchy" width="567" height="463"></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;茫茫碼海中，要怎麼找到你想要找的那一段程式碼？關鍵字下的不夠精準，找不到或是搜尋的資料太多，都是種苦惱。還是想找個Hex? 找Tab? 找ip？ 找url？ 找email?&lt;/p&gt;
&lt;p&gt;好的搜尋技巧帶你上天堂，下面幾個技巧該可以能帶你上天堂&lt;/p&gt;
    
    </summary>
    
      <category term="iOS" scheme="http://ios.taipei/categories/iOS/"/>
    
    
      <category term="iOS" scheme="http://ios.taipei/tags/iOS/"/>
    
      <category term="xCode" scheme="http://ios.taipei/tags/xCode/"/>
    
  </entry>
  
</feed>
